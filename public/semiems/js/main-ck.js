function pdiv_cambio(e){wardrobe.doors[pselect].div=e;pintapuertas();Close_popup()}function countRepeated(e){var t=arguments[1]||[],n=0;for(;n<e.length;n++)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]instanceof Array?t=countRepeated(e[n],t):t[e[n]]?t[e[n]]++:t[e[n]]=1);return t}function acabado_perfil(){if(wardrobe.data.typedoor==1)wardrobe.data.tperfil==3?$("#acabado_perfil").html("No lleva Perfil."):$("#acabado_perfil").html("Se ha seleccionado acabado 'Anonizado Plata'");else{$.each(wardrobe.doors,function(e,t){$.each(t.material,function(e,t){var n=countRepeated(a)})});$.ajax({type:"POST",url:"php/acabado_perf.php",data:{reps:repetidos},success:function(e){$("#acabado_perfil").html(e)}})}}function AgregarAccInt(){$("#accint").innerHTML="";$.each(wardrobe.accint,function(e,t){$("#rut"+t).remove();$.ajax({type:"GET",url:"php/getAccInt.php",data:{id:parseInt(t)},success:function(e){$("#accint").append(e)}})})}function cambiaNumDoors(){calculo_puertas(document.frm.npuertas);if(document.frm.puerta.value==2){$("#tabs").tabs("disable",3);$("#tabs").tabs("disable",4)}else{$("#tabs").tabs("enable",3);$("#tabs").tabs("enable",4)}}function resetWardrobe(){wardrobe=0}function loadacc(){document.getElementById("accext").innerHTML="";$("#accext").append("");for(var e in wardrobe.accext)AgregarCampos2();$(document).find("#accext li select")&&$(document).find("#accext li select").each(function(e){$(this).val(parseInt(wardrobe.accext[e]))})}function cambia_puerta(e){if(e=="all")for(var t in wardrobe.doors){temp2=wardrobe.doors[0].type;wardrobe.doors[t].type=temp2;var n=[];for(var r in wardrobe.doors[0].material){temp=wardrobe.doors[0].material[r];n.push(temp)}wardrobe.doors[t].material=n}else if(e=="impar"){for(var t in wardrobe.doors)if(t%2==0){temp2=wardrobe.doors[0].type;wardrobe.doors[t].type=temp2;var n=[];for(var r in wardrobe.doors[0].material){temp=wardrobe.doors[0].material[r];n.push(temp)}wardrobe.doors[t].material=n}}else if(e=="par")for(var t in wardrobe.doors)if(t%2!=0){temp2=wardrobe.doors[1].type;wardrobe.doors[t].type=temp2;var n=[];for(var r in wardrobe.doors[1].material){temp=wardrobe.doors[1].material[r];n.push(temp)}wardrobe.doors[t].material=n}pintapuertas()}popup={name:"",response:{},data:{},initialize:function(e){this.name=e.name;this.data=e.data;$(this).bind("sync",function(){this.show()})},fetch:function(e){this.initialize(e);$.ajax({type:"GET",url:"API/popup/"+this.name,data:this.data,success:function(e){popup.response=e;$(popup).trigger("sync")}})},show:function(){this.openPopup();$("#popup").html(this.response)},openPopup:function(){$("#popup").fadeIn("slow");var e=document.getElementById("page_screen");e.style.height=document.body.parentNode.scrollHeight+"px";e.style.display="block"},closePopup:function(){$("#popup").fadeOut("fast");var e=document.getElementById("page_screen");e.style.display="none"}};